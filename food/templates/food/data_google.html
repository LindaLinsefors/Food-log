<!DOCTYPE html>
<html lang="en">

<html>
<head>

    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1">

    {% load staticfiles %}
	<link rel="stylesheet" href="{% static 'themes/riia-theme.min.css' %}" />
	<link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile.structure-1.4.5.min.css" />

    <script src="http://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>

    <script type="text/javascript" src="https://www.google.com/jsapi"></script>

    <script type="text/javascript">
      google.load("visualization", "1", {packages:["corechart"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {

        var month_data = google.visualization.arrayToDataTable([
          ['Food group', 'number of bowls'],
          ['Fruit',     {{ month_total.fruit }}   ],
          ['Veg',       {{ month_total.veg }}     ],
          ['Dairy',     {{ month_total.dairy }}   ],
          ['Protein',   {{ month_total.protein }} ],
          ['Startch',   {{ month_total.startch }} ],
          ['Junk',      {{ month_total.junk }}    ],
          ['Unknown',   {{ month_total.unknown }} ],
        ]);

        var year_data = google.visualization.arrayToDataTable([
          ['Food group', 'number of bowls'],
          ['Fruit',     {{ year_total.fruit }}   ],
          ['Veg',       {{ year_total.veg }}     ],
          ['Dairy',     {{ year_total.dairy }}   ],
          ['Protein',   {{ year_total.protein }} ],
          ['Startch',   {{ year_total.startch }} ],
          ['Junk',      {{ year_total.junk }}    ],
          ['Unknown',   {{ year_total.unknown }} ],
        ]);

        var options = {
          /* chartArea: {width:'80%',height:'100%'} */
        };

        var month_chart = new google.visualization.PieChart(document.getElementById('month_piechart'));
        month_chart.draw(month_data, options);

        var year_chart = new google.visualization.PieChart(document.getElementById('year_piechart'));
        year_chart.draw(year_data, options);
      }
    </script>
</head>

<body>
<div data-role="page" data-theme="b">
  <div data-role="header">
    <h1>Data</h1>
    <div data-role="navbar">
        <ul>
            <li><a href="{% url 'new_food_entry' %}" data-ajax="false" >New Entry</a></li>
            <li><a href="{% url 'new_food_stuff' %}" data-ajax="false" >New Type</a></li>
            <li><a href="{% url 'menu' %}" data-ajax="false" >Menu</a></li>
            {% block delete %}{% endblock %}
        </ul>       
    </div>
  </div>
  <div data-role="main" class="ui-content">
    <div id="month_piechart" style="width: 100%;"></div>
    <div id="year_piechart" style="width: 100%;"></div>
  </div>
</body>

</html>

